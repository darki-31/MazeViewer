import"./style-04dc75a2.js";let f=!1,g=!1,p=!1,T=!1,w=!1,m=!1,v=!1,i,n=null,u=null,a=null;async function B(){var s=F("maze");if(s=="up12")document.title="3D hole maze, 4x5x5, up to 12 holes",n=await(await fetch("paths_up12.json")).json(),u=n.paths,n=n.paths,a=null;else if(s=="14_spin")document.title="3D hole maze, 4x5x5, with 14 holes",n=await(await fetch("paths_14_spin.json")).json(),u=n.paths,n=n.paths,a=null;else{document.title="unknown maze";return}i=document.getElementById("tableBody"),c(i);const r=[];for(let l=0;l<n.length;l++)r.includes(n[l].holes)||r.push(n[l].holes);r.sort((l,h)=>l-h);let t=document.getElementById("holesToShow");for(let l=0;l<r.length;l++){var e=document.createElement("option");e.value=r[l],e.innerHTML=r[l],t.appendChild(e)}t.addEventListener("change",()=>{if(t.value=="all"){n=u;for(var l=i.rows.length-1;l>=0;l--)i.deleteRow(l);c(i),window.parent.dispatchEvent(new Event("getFirstPath"))}else{n=u.filter(d=>d.holes==t.value);for(var l=i.rows.length-1;l>=0;l--)i.deleteRow(l);c(i),window.parent.dispatchEvent(new Event("getFirstPath"))}})}function F(s,r){r||(r=window.location.href),s=s.replace(/[\[\]]/g,"\\$&");var t=new RegExp("[?&]"+s+"(=([^&#]*)|&|#|$)"),e=t.exec(r);return e?e[2]?decodeURIComponent(e[2].replace(/\+/g," ")):"":null}function c(s){const r=document.getElementById("viewer");for(let t=0;t<n.length;t++){let e=s.insertRow();e.onclick=()=>{r.contentWindow.dispatchEvent(new CustomEvent("newPath",{detail:n[t]})),a?.classList.remove("selected-row"),e.classList.add("selected-row"),a=e};let l=e.insertCell(0);l.innerHTML=n[t].pathNbr;let h=e.insertCell(1);h.innerHTML=n[t].holes;let d=e.insertCell(2);d.innerHTML=n[t].lengthFull;let E=e.insertCell(3);E.innerHTML=n[t].regularity.toFixed(3);let L=e.insertCell(4);L.innerHTML=n[t].leftTurns;let y=e.insertCell(5);y.innerHTML=n[t].rightTurns;let b=e.insertCell(6);b.innerHTML=n[t].spin.toFixed(3)}}function o(s){s==0?(f?n.sort((t,e)=>t.pathNbr-e.pathNbr):n.sort((t,e)=>e.pathNbr-t.pathNbr),f=!f):s==1?(g?n.sort((t,e)=>t.holes-e.holes):n.sort((t,e)=>e.holes-t.holes),g=!g):s==2?(p?n.sort((t,e)=>t.lengthFull-e.lengthFull):n.sort((t,e)=>e.lengthFull-t.lengthFull),p=!p):s==3?(T?n.sort((t,e)=>t.regularity-e.regularity):n.sort((t,e)=>e.regularity-t.regularity),T=!T):s==4?(w?n.sort((t,e)=>t.leftTurns-e.leftTurns):n.sort((t,e)=>e.leftTurns-t.leftTurns),w=!w):s==5?(m?n.sort((t,e)=>t.rightTurns-e.rightTurns):n.sort((t,e)=>e.rightTurns-t.rightTurns),m=!m):s==6&&(v?n.sort((t,e)=>t.spin-e.spin):n.sort((t,e)=>e.spin-t.spin),v=!v);var r=document.createElement("tbody");c(r),i.parentNode.replaceChild(r,i),i=r}B();const C=document.getElementById("pathNbrTh");C.addEventListener("click",()=>o(0));const I=document.getElementById("holesTh");I.addEventListener("click",function(){o(1)});const N=document.getElementById("pathLengthFullTh");N.addEventListener("click",function(){o(2)});const R=document.getElementById("pathRegTh");R.addEventListener("click",function(){o(3)});const k=document.getElementById("leftTurnsTh");k.addEventListener("click",function(){o(4)});const x=document.getElementById("rightTurnsTh");x.addEventListener("click",function(){o(5)});const H=document.getElementById("spinTh");H.addEventListener("click",function(){o(6)});window.addEventListener("getFirstPath",function(s){document.getElementById("viewer").contentWindow.dispatchEvent(new CustomEvent("newPath",{detail:n[0]}))});
