import"./style-04dc75a2.js";let d=!1,c=!1,u=!1,f=!1,g=!1,T=!1,p=!1,r;const F=await fetch("paths.json");let n=await F.json(),m=n.paths;n=n.paths;let w=null;function B(){r=document.getElementById("tableBody"),h(r);const l=[];for(let e=0;e<n.length;e++)l.includes(n[e].holes)||l.push(n[e].holes);l.sort((e,o)=>e-o);let s=document.getElementById("holesToShow");for(let e=0;e<l.length;e++){var t=document.createElement("option");t.value=l[e],t.innerHTML=l[e],s.appendChild(t)}s.addEventListener("change",()=>{if(s.value=="all"){n=m;for(var e=r.rows.length-1;e>=0;e--)r.deleteRow(e);h(r),window.parent.dispatchEvent(new Event("getFirstPath"))}else{n=m.filter(a=>a.holes==s.value);for(var e=r.rows.length-1;e>=0;e--)r.deleteRow(e);h(r),window.parent.dispatchEvent(new Event("getFirstPath"))}})}function h(l){const s=document.getElementById("viewer");for(let t=0;t<n.length;t++){let e=l.insertRow();e.onclick=()=>{s.contentWindow.dispatchEvent(new CustomEvent("newPath",{detail:n[t]})),w?.classList.remove("selected-row"),e.classList.add("selected-row"),w=e};let o=e.insertCell(0);o.innerHTML=n[t].pathNbr;let a=e.insertCell(1);a.innerHTML=n[t].holes;let v=e.insertCell(2);v.innerHTML=n[t].lengthFull;let E=e.insertCell(3);E.innerHTML=n[t].regularity.toFixed(3);let L=e.insertCell(4);L.innerHTML=n[t].leftTurns;let y=e.insertCell(5);y.innerHTML=n[t].rightTurns;let b=e.insertCell(6);b.innerHTML=n[t].spin.toFixed(3)}}function i(l){l==0?(d?n.sort((t,e)=>t.pathNbr-e.pathNbr):n.sort((t,e)=>e.pathNbr-t.pathNbr),d=!d):l==1?(c?n.sort((t,e)=>t.holes-e.holes):n.sort((t,e)=>e.holes-t.holes),c=!c):l==2?(u?n.sort((t,e)=>t.lengthFull-e.lengthFull):n.sort((t,e)=>e.lengthFull-t.lengthFull),u=!u):l==3?(f?n.sort((t,e)=>t.regularity-e.regularity):n.sort((t,e)=>e.regularity-t.regularity),f=!f):l==4?(g?n.sort((t,e)=>t.leftTurns-e.leftTurns):n.sort((t,e)=>e.leftTurns-t.leftTurns),g=!g):l==5?(T?n.sort((t,e)=>t.rightTurns-e.rightTurns):n.sort((t,e)=>e.rightTurns-t.rightTurns),T=!T):l==6&&(p?n.sort((t,e)=>t.spin-e.spin):n.sort((t,e)=>e.spin-t.spin),p=!p);var s=document.createElement("tbody");h(s),r.parentNode.replaceChild(s,r),r=s}B();const C=document.getElementById("pathNbrTh");C.addEventListener("click",()=>i(0));const I=document.getElementById("holesTh");I.addEventListener("click",function(){i(1)});const N=document.getElementById("pathLengthFullTh");N.addEventListener("click",function(){i(2)});const H=document.getElementById("pathRegTh");H.addEventListener("click",function(){i(3)});const R=document.getElementById("leftTurnsTh");R.addEventListener("click",function(){i(4)});const k=document.getElementById("rightTurnsTh");k.addEventListener("click",function(){i(5)});const M=document.getElementById("spinTh");M.addEventListener("click",function(){i(6)});window.addEventListener("getFirstPath",function(l){document.getElementById("viewer").contentWindow.dispatchEvent(new CustomEvent("newPath",{detail:n[0]}))});
